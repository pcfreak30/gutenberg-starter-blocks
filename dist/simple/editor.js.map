{"version":3,"sources":["../../blocks/simple/editor.js"],"names":["wp","__","i18n","element","Fragment","createElement","blockEditor","InspectorControls","BlockControls","MediaUpload","RichText","components","Button","IconButton","PanelBody","RangeControl","ToggleControl","Toolbar","el","blocks","registerBlockType","title","icon","category","attributes","headerTitle","type","source","selector","imageCropHeight","default","imageDim","imageIsDark","imageId","imageUrl","imageCaption","blockContents","supports","html","anchor","align","edit","props","setAttributes","renderImage","renderProps","src","style","parseFloat","className","onClick","open","imageSpacerStyle","headerComponentClass","onSelectMedia","media","id","url","blockStructure","value","allowedTypes","onSelect","render","label","min","max","onChange","newValue","checked","tagName","placeholder","tagname","save","opacity","parseInt","window"],"mappings":"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","sourcesContent":["( function( wp ) {\r\n\r\n\tconst { __ }                                       = wp.i18n;\r\n\tconst { Fragment, createElement }                  = wp.element;\r\n\tconst {\r\n\t\tInspectorControls,\r\n\t\tBlockControls,\r\n\t\tMediaUpload,\r\n\t\tRichText,\r\n\t} = wp.blockEditor;\r\n\tconst {\r\n\t\tButton,\r\n\t\tIconButton,\r\n\t\tPanelBody,\r\n\t\tRangeControl,\r\n\t\tToggleControl,\r\n\t\tToolbar\r\n\t} = wp.components;\r\n\r\n\t// this isn't strictly necessary but saves a lot of keystrokes below:\r\n\tconst el = createElement;\r\n\r\n\twp.blocks.registerBlockType( 'gutenberg-starter/simple', {\r\n\t\ttitle:    'Simple Block',\r\n\t\ticon:     'hammer',\r\n\t\tcategory: 'common',\r\n\t\tattributes: {\r\n\t\t\theaderTitle: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tsource: 'html',\r\n\t\t\t\tselector: 'h3'\r\n\t\t\t},\r\n\t\t\timageCropHeight: {\r\n\t\t\t\ttype:    'integer',\r\n\t\t\t\tdefault: 50\r\n\t\t\t},\r\n\t\t\timageDim: {\r\n\t\t\t\ttype:    'integer',\r\n\t\t\t\tdefault: 50\r\n\t\t\t},\r\n\t\t\timageIsDark: {\r\n\t\t\t\ttype:    'boolean',\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\timageId: {\r\n\t\t\t\ttype:    'integer',\r\n\t\t\t\tdefault: 0,\r\n\t\t\t},\r\n\t\t\timageUrl: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\timageCaption: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tsource: 'html',\r\n\t\t\t\tselector: 'figcaption'\r\n\t\t\t},\r\n\t\t\tblockContents: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tsource: 'html',\r\n\t\t\t\tselector: '.wp-block-gutenberg-starter-simple__content'\r\n\t\t\t},\r\n\t\t},\r\n\t\tsupports: {\r\n\t\t\thtml:   false,\r\n\t\t\tanchor: true,\r\n\t\t\talign:  false\r\n\t\t},\r\n\r\n\t\tedit: function ( props ) {\r\n\r\n\t\t\tconst { attributes, setAttributes } = props;\r\n\r\n\t\t\tconst { imageCropHeight, imageId, imageUrl, imageCaption, imageDim, imageIsDark, headerTitle, blockContents } = attributes;\r\n\r\n\t\t\tconst renderImage = function( renderProps ) {\r\n\r\n\t\t\t\tif ( imageId ) {\r\n\r\n\t\t\t\t\treturn el(\r\n\t\t\t\t\t\t'img',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tsrc: imageUrl,\r\n\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t'opacity': parseFloat( imageDim ) / 100\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\treturn el(\r\n\t\t\t\t\t\tButton,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tclassName: 'select-card-btn',\r\n\t\t\t\t\t\t\tonClick: renderProps.open,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t__( 'Select Image', 'gutenberg-starter' )\r\n\t\t\t\t\t)\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t};\r\n\r\n\t\t\tif ( imageCropHeight < 25 || imageCropHeight > 200 ) {\r\n\t\t\t\timageCropHeight = 50;\r\n\t\t\t}\r\n\r\n\t\t\tlet imageSpacerStyle = {\r\n\t\t\t\t'padding-top': imageCropHeight + '%'\r\n\t\t\t};\r\n\r\n\t\t\tlet headerComponentClass = 'wp-block-gutenberg-starter-simple__header';\r\n\t\t\tif ( imageIsDark ) {\r\n\t\t\t\theaderComponentClass += ' image-is-dark';\r\n\t\t\t}\r\n\r\n\t\t\tconst onSelectMedia = function( media ) {\r\n\r\n\t\t\t\tprops.setAttributes( {\r\n\t\t\t\t\timageId: media.id,\r\n\t\t\t\t\timageUrl: media.url\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlet blockStructure = el(\r\n\t\t\t\t/**\r\n\t\t\t\t * This block has two components which must be wrapped in React's\r\n\t\t\t\t * Fragment component. The first component defines the attribute\r\n\t\t\t\t * panel (InspectorControls) and the second component defines the\r\n\t\t\t\t * block editor itself.\r\n\t\t\t\t */\r\n\t\t\t\tFragment,\r\n\t\t\t\tnull,\r\n\t\t\t\t[\r\n\t\t\t\t\tel(\r\n\t\t\t\t\t\tBlockControls,\r\n\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\tel( \r\n\t\t\t\t\t\t\tToolbar,\r\n\t\t\t\t\t\t\t{},\r\n\t\t\t\t\t\t\timageId ? el(\r\n\t\t\t\t\t\t\t\tMediaUpload,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tvalue: imageId,\r\n\t\t\t\t\t\t\t\t\tallowedTypes: [ 'image' ],\r\n\t\t\t\t\t\t\t\t\tonSelect: onSelectMedia,\r\n\t\t\t\t\t\t\t\t\trender: ( renderProps ) => {\r\n\t\t\t\t\t\t\t\t\t\treturn el(\r\n\t\t\t\t\t\t\t\t\t\t\tIconButton,\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"components-toolbar__control\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: __( 'Edit media', 'gutenberg-starter' ),\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon: 'format-image',\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick: renderProps.open\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t): null\r\n\t\t\t\t\t\t) \r\n\t\t\t\t\t),\r\n\t\t\t\t\tel(\r\n\t\t\t\t\t\tInspectorControls,\r\n\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t// inside InspectorControls, you can have an array of panels\r\n\t\t\t\t\t\t\tel(\r\n\t\t\t\t\t\t\t\tPanelBody,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t'title': __( 'Block Attribute Panel', 'gutenberg-starter' ),\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\t// inside each PanelBody, you create control components\r\n\t\t\t\t\t\t\t\t\t// https://developer.wordpress.org/block-editor/components/\r\n\t\t\t\t\t\t\t\t\tel(\r\n\t\t\t\t\t\t\t\t\t\tRangeControl,\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tlabel: 'Image Crop Ratio (%)',\r\n\t\t\t\t\t\t\t\t\t\t\tvalue: imageCropHeight || 50,\r\n\t\t\t\t\t\t\t\t\t\t\tmin: 25,\r\n\t\t\t\t\t\t\t\t\t\t\tmax: 200,\r\n\t\t\t\t\t\t\t\t\t\t\tonChange: ( newValue ) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetAttributes( { imageCropHeight: newValue } );\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\tel(\r\n\t\t\t\t\t\t\t\t\t\tRangeControl,\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tlabel: 'Image Opacity (%)',\r\n\t\t\t\t\t\t\t\t\t\t\tvalue: imageDim || 50,\r\n\t\t\t\t\t\t\t\t\t\t\tmin: 0,\r\n\t\t\t\t\t\t\t\t\t\t\tmax: 100,\r\n\t\t\t\t\t\t\t\t\t\t\tonChange: ( newValue ) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetAttributes( { imageDim: newValue } );\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\tel(\r\n\t\t\t\t\t\t\t\t\t\tToggleControl,\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tlabel: 'Reverse Image Text Color',\r\n\t\t\t\t\t\t\t\t\t\t\tchecked: imageIsDark,\r\n\t\t\t\t\t\t\t\t\t\t\tonChange: ( checked ) => { setAttributes( { imageIsDark: checked } ) }\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t),\r\n\r\n\t\t\t\t\t// here we start to define the block's DOM inside the editor, ...\r\n\t\t\t\t\t// div.wp-block-gutenberg-starter-simple\r\n\t\t\t\t\t// . div.wp-block-gutenberg-starter-simple__image\r\n\t\t\t\t\t// . . h3: (Rich text content)\r\n\t\t\t\t\t// . . figure\r\n\t\t\t\t\t// . . . img: background image selected by MediaUpload component\r\n\t\t\t\t\t// . . . component: MediaUpload (Media library chooser)\r\n\t\t\t\t\t// . . . figcaption: RichText (content editor field)\r\n\t\t\t\t\t// . div.wp-block-gutenberg-starter-simple__content: RichText\r\n\t\t\t\t\tel(\r\n\t\t\t\t\t\t'div',\r\n\t\t\t\t\t\t{ className: 'wp-block-gutenberg-starter-simple' },\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\tel(\r\n\t\t\t\t\t\t\t\t'header',\r\n\t\t\t\t\t\t\t\t{ className: headerComponentClass },\r\n\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\tel(\r\n\t\t\t\t\t\t\t\t\t\tRichText,\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttagName: 'h3',\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder: __( 'Content header', 'gutenberg-starter' ),\r\n\t\t\t\t\t\t\t\t\t\t\tvalue: headerTitle || '',\r\n\t\t\t\t\t\t\t\t\t\t\tonChange: ( newValue ) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetAttributes( { headerTitle: newValue } );\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\tel(\r\n\t\t\t\t\t\t\t\t\t\t'figure',\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tclassName: 'image-wrapper',\r\n\t\t\t\t\t\t\t\t\t\t\tstyle: imageSpacerStyle,\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\t\t\tel(\r\n\t\t\t\t\t\t\t\t\t\t\t\tMediaUpload,\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: 'imageSelector',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: imageId || null,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tallowedTypes: [ 'image' ],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonSelect: onSelectMedia,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trender: renderImage\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\tel(\r\n\t\t\t\t\t\t\t\t\t\t\t\tRichText,\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttagName: 'figcaption',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder: __( 'Write an image caption', 'gutenberg-starter' ),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: imageCaption || '',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange: ( newValue ) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAttributes( { imageCaption: newValue } );\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tel(\r\n\t\t\t\t\t\t\t\tRichText,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttagname: 'div',\r\n\t\t\t\t\t\t\t\t\tplaceholder: __( 'Type something', 'gutenberg-starter' ),\r\n\t\t\t\t\t\t\t\t\tvalue: blockContents || '',\r\n\t\t\t\t\t\t\t\t\tclassName: 'wp-block-gutenberg-starter-simple__content',\r\n\t\t\t\t\t\t\t\t\tonChange: ( newValue ) => {\r\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { blockContents: newValue } );\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t)\r\n\t\t\t\t]\r\n\t\t\t);\r\n\r\n\t\t\treturn blockStructure;\r\n\t\t},\r\n\r\n\t\tsave: function( props ) {\r\n\r\n\t\t\tconst { attributes } = props;\r\n\r\n\t\t\treturn el(\r\n\t\t\t\t\"div\",\r\n\t\t\t\tnull,\r\n\t\t\t\t[\r\n\t\t\t\t\tel(\r\n\t\t\t\t\t\t\"header\",\r\n\t\t\t\t\t\t{ className: 'wp-block-gutenberg-starter-simple__header' + ( attributes.imageIsDark ? ' image-is-dark' : '' ) },\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\tel(\r\n\t\t\t\t\t\t\t\t\"h3\",\r\n\t\t\t\t\t\t\t\t{},\r\n\t\t\t\t\t\t\t\tattributes.headerTitle\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tel(\r\n\t\t\t\t\t\t\t\t\"figure\",\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tclassName: 'image-wrapper',\r\n\t\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\t\t'padding-top': attributes.imageCropHeight\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}, [\r\n\t\t\t\t\t\t\t\t\tel(\r\n\t\t\t\t\t\t\t\t\t\t\"img\",\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tsrc: attributes.imageUrl,\r\n\t\t\t\t\t\t\t\t\t\t\tstyle: { opacity: parseInt( attributes.imageDim ) / 100 }\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\tel(\r\n\t\t\t\t\t\t\t\t\t\t\"figcaption\",\r\n\t\t\t\t\t\t\t\t\t\t{},\r\n\t\t\t\t\t\t\t\t\t\tattributes.imageCaption\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t),\r\n\t\t\t\t\tel(\r\n\t\t\t\t\t\t\"div\",\r\n\t\t\t\t\t\t{ className: 'wp-block-gutenberg-starter-simple__content' },\r\n\t\t\t\t\t\tattributes.blockContents\r\n\t\t\t\t\t)\r\n\t\t\t\t]\r\n\t\t\t);\r\n\r\n\t\t}\r\n\t} );\r\n\r\n}( window.wp ) );"],"file":"editor.js"}