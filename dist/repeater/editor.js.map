{"version":3,"sources":["../../blocks/repeater/editor.js"],"names":["wp","__","i18n","element","Fragment","createElement","blockEditor","InspectorControls","InnerBlocks","components","PanelBody","RangeControl","el","blocks","registerBlockType","title","icon","category","attributes","columns","type","default","supports","html","anchor","align","edit","props","setAttributes","blockStructure","label","value","min","max","onChange","newValue","className","allowedBlocks","save","Content","window"],"mappings":"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","sourcesContent":["( function( wp ) {\r\n\r\n\tconst { __ }                                       = wp.i18n;\r\n\tconst { Fragment, createElement }                  = wp.element;\r\n\tconst {\r\n\t\tInspectorControls,\r\n\t\tInnerBlocks\r\n\t} = wp.blockEditor;\r\n\tconst {\r\n\t\tPanelBody,\r\n\t\tRangeControl\r\n\t} = wp.components;\r\n\r\n\t// this isn't strictly necessary but saves a lot of keystrokes below:\r\n\tconst el = createElement;\r\n\r\n\twp.blocks.registerBlockType( 'gutenberg-starter/repeater', {\r\n\t\ttitle:    'Block Repeater',\r\n\t\ticon:     'grid-view',\r\n\t\tcategory: 'common',\r\n\t\tattributes: {\r\n\t\t\tcolumns: {\r\n\t\t\t\ttype: 'integer',\r\n\t\t\t\tdefault: 2\r\n\t\t\t}\r\n\t\t},\r\n\t\tsupports: {\r\n\t\t\thtml:   false,\r\n\t\t\tanchor: true,\r\n\t\t\talign:  [ 'wide', 'full' ]\r\n\t\t},\r\n\r\n\t\tedit: function ( props ) {\r\n\r\n\t\t\tconst { attributes, setAttributes } = props;\r\n\r\n\t\t\tlet blockStructure = el(\r\n\t\t\t\tFragment,\r\n\t\t\t\tnull,\r\n\t\t\t\t[\r\n\t\t\t\t\tel(\r\n\t\t\t\t\t\tInspectorControls,\r\n\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t// inside InspectorControls, you can have an array of panels\r\n\t\t\t\t\t\t\tel(\r\n\t\t\t\t\t\t\t\tPanelBody,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t'title': __( 'Block Attribute Panel', 'gutenberg-starter' ),\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\t// inside each PanelBody, you create control components\r\n\t\t\t\t\t\t\t\t\t// https://developer.wordpress.org/block-editor/components/\r\n\t\t\t\t\t\t\t\t\tel(\r\n\t\t\t\t\t\t\t\t\t\tRangeControl,\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tlabel: 'Columns',\r\n\t\t\t\t\t\t\t\t\t\t\tvalue: attributes.columns,\r\n\t\t\t\t\t\t\t\t\t\t\tmin: 2,\r\n\t\t\t\t\t\t\t\t\t\t\tmax: 4,\r\n\t\t\t\t\t\t\t\t\t\t\tonChange: ( newValue ) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetAttributes( { columns: newValue } );\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t),\r\n\t\t\t\t\tel(\r\n\t\t\t\t\t\t'div',\r\n\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\tclassName: 'wp-block-gutenberg-starter-repeater',\r\n\t\t\t\t\t\t\t'data-columns': attributes.columns\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\tel( \r\n\t\t\t\t\t\t\t\tInnerBlocks,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tclassName: 'wp-block-gutenberg-starter-repeater__inner',\r\n\t\t\t\t\t\t\t\t\tallowedBlocks: [ 'gutenberg-starter/simple' ],\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t// commented out because it's broken and i don't know why\r\n\t\t\t\t\t\t\t\t\t/*template: [\r\n\t\t\t\t\t\t\t\t\t\t[ 'gutenberg-starter/simple', {} ],\r\n\t\t\t\t\t\t\t\t\t\t[ 'gutenberg-starter/simple', {} ]\r\n\t\t\t\t\t\t\t\t\t]*/\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t)\r\n\t\t\t\t]\r\n\t\t\t);\r\n\r\n\t\t\treturn blockStructure;\r\n\t\t},\r\n\r\n\t\tsave: function( props ) {\r\n\r\n\t\t\tconst { attributes } = props;\r\n\r\n\t\t\treturn el(\r\n\t\t\t\t\"div\",\r\n\t\t\t\t{\r\n\t\t\t\t\tclassName: 'num-of-columns-' + ( attributes.columns || 2 ),\r\n\t\t\t\t\t'data-columns': ( attributes.columns || 2 ),\r\n\t\t\t\t},\r\n\t\t\t\tel(\r\n\t\t\t\t\t'div',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tclassName: 'wp-block-gutenberg-starter-repeater__inner',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tel( wp.blockEditor.InnerBlocks.Content, null )\r\n\t\t\t\t)\r\n\t\t\t);\r\n\r\n\t\t}\r\n\t} );\r\n\r\n}( window.wp ) );"],"file":"editor.js"}